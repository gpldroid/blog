<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯ÙˆÙ†Ø© Ø§Ù„Ø¹Ø±Ø§Ø¦Ø´ Ø§Ù„ØªÙ‚Ù†ÙŠØ© | Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§Ù</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø¬Ø°Ø§Ø¨Ø© ÙˆØ¹ØµØ±ÙŠØ©) --- */
        :root {
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            --main-color: #6366f1;
            --bg-body: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #1e293b;
            --text-dim: #64748b;
            --header-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .dark-mode {
            --bg-body: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
            --header-bg: rgba(30, 41, 59, 0.9);
            --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0; transition: all 0.4s ease;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ --- */
        header {
            background: var(--header-bg);
            backdrop-filter: blur(12px);
            position: sticky; top: 0; z-index: 1000;
            border-bottom: 1px solid rgba(100, 116, 139, 0.1);
            padding: 12px 0;
        }

        .header-container {
            max-width: 1200px; margin: 0 auto;
            display: flex; justify-content: space-between; align-items: center; padding: 0 20px;
        }

        .logo {
            text-decoration: none; font-weight: 800; font-size: 22px;
            background: var(--primary-gradient);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        #theme-toggle {
            background: var(--primary-gradient);
            color: white; border: none; padding: 8px 20px;
            border-radius: 12px; cursor: pointer; font-family: 'Cairo';
            font-weight: 600; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± (ØªÙ… Ø¶Ø¨Ø· Ø§Ù„Ø³Ø±Ø¹Ø©) --- */
        .breaking-container {
            max-width: 1200px; margin: 20px auto;
            background: var(--card-bg); border-radius: 12px;
            display: flex; align-items: center; overflow: hidden;
            box-shadow: var(--shadow); height: 45px;
            border: 1px solid rgba(99, 102, 241, 0.1);
        }
        .bn-label {
            background: var(--primary-gradient); color: white;
            padding: 0 20px; height: 100%; display: flex; align-items: center;
            font-weight: bold; font-size: 14px; position: relative; z-index: 2;
        }
        .bn-content { flex: 1; overflow: hidden; position: relative; }
        .bn-text { 
            position: absolute; white-space: nowrap; 
            animation: ticker 40s linear infinite; /* Ø³Ø±Ø¹Ø© Ù‡Ø§Ø¯Ø¦Ø© */
            padding-right: 100%; font-size: 14px; font-weight: 600;
        }
        @keyframes ticker { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        /* --- Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± (ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù…Ø©) --- */
        .slider-wrapper { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        .slider-grid { display: flex; gap: 20px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; }
        .slider-item {
            min-width: 280px; height: 350px; border-radius: 20px;
            position: relative; overflow: hidden; flex-shrink: 0;
            box-shadow: var(--shadow); transition: 0.4s;
        }
        .slider-item img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .slider-item:hover { transform: translateY(-10px); }
        .slider-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(to top, rgba(15, 23, 42, 0.9), transparent);
            display: flex; flex-direction: column; justify-content: flex-end; padding: 20px;
        }
        .slider-overlay h4 { margin: 0; color: white; font-size: 16px; line-height: 1.4; }

        /* --- Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© --- */
        .main-layout {
            max-width: 1200px; margin: 40px auto;
            display: grid; grid-template-columns: 1fr 320px;
            gap: 30px; padding: 0 20px;
        }

        .section-header {
            display: flex; align-items: center; gap: 10px; margin-bottom: 25px;
        }
        .section-header span {
            width: 35px; height: 5px; background: var(--primary-gradient); border-radius: 10px;
        }

        /* ÙƒØ±ÙˆØª Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª */
        .post-card {
            display: flex; background: var(--card-bg); border-radius: 20px;
            margin-bottom: 25px; overflow: hidden; box-shadow: var(--shadow);
            transition: 0.3s; border: 1px solid rgba(100, 116, 139, 0.05);
        }
        .post-card:hover { border-color: var(--main-color); }
        .post-card img { width: 260px; height: 180px; object-fit: cover; }
        .post-content { padding: 25px; flex: 1; }
        .post-content h3 { margin: 0 0 12px; font-size: 20px; font-weight: 700; }
        .post-content h3 a { text-decoration: none; color: var(--text-main); }
        .post-content p { color: var(--text-dim); font-size: 14px; line-height: 1.7; }

        /* Ø§Ù„Ø³Ø§ÙŠØ¯ Ø¨Ø§Ø± */
        .sidebar-widget {
            background: var(--card-bg); padding: 25px; border-radius: 20px;
            margin-bottom: 25px; box-shadow: var(--shadow);
        }
        .tag-cloud { display: flex; flex-wrap: wrap; gap: 8px; }
        .tag {
            background: rgba(99, 102, 241, 0.1); color: var(--main-color);
            padding: 6px 14px; border-radius: 10px; text-decoration: none;
            font-size: 13px; font-weight: 600; transition: 0.3s;
        }
        .tag:hover { background: var(--primary-gradient); color: white; }

        /* Ø²Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯ */
        .load-more-btn {
            background: var(--primary-gradient); color: white; border: none;
            padding: 14px 50px; border-radius: 15px; font-family: 'Cairo';
            font-weight: 700; cursor: pointer; display: block; margin: 40px auto;
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.2);
        }

        @media (max-width: 850px) {
            .main-layout { grid-template-columns: 1fr; }
            .post-card { flex-direction: column; }
            .post-card img { width: 100%; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-container">
        <a href="/" class="logo">Ø§Ù„Ø¹Ø±Ø§Ø¦Ø´ Ø§Ù„ØªÙ‚Ù†ÙŠØ©.</a>
        <button id="theme-toggle">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ğŸŒ™</button>
    </div>
</header>

<div class="breaking-container">
    <div class="bn-label">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</div>
    <div class="bn-content">
        <div class="bn-text" id="ticker-text">ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„Ù…Ø³ØªØ¬Ø¯Ø§Øª...</div>
    </div>
</div>

<div class="slider-wrapper">
    <div class="section-header"><span></span> <h2>Ù…ÙˆØ§Ø¶ÙŠØ¹ Ù…Ù…ÙŠØ²Ø©</h2></div>
    <div class="slider-grid" id="main-slider"></div>
</div>

<div class="main-layout">
    <main>
        <div class="section-header"><span></span> <h2>Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</h2></div>
        <div id="posts-container"></div>
        <button class="load-more-btn" id="load-more-btn" onclick="nextPage()">Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯</button>
    </main>

    <aside>
        <div class="sidebar-widget">
            <h3 style="margin-top:0">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h3>
            <div id="sidebar-labels" class="tag-cloud"></div>
        </div>
        <div class="sidebar-widget">
            <h3>Ø§Ø´ØªØ±Ùƒ Ù…Ø¹Ù†Ø§</h3>
            <p style="font-size: 14px; color: var(--text-dim);">ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠØªÙ„Ù‚Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
        </div>
    </aside>
</div>

<script>
    const blogUrl = "https://greatxenforo.blogspot.com";
    let startIndex = 1;
    let maxResults = 8;

    function fetchPosts() {
        const script = document.createElement('script');
        script.src = `${blogUrl}/feeds/posts/summary?alt=json-in-script&start-index=${startIndex}&max-results=${maxResults}&callback=displayPosts`;
        document.body.appendChild(script);
    }

    function displayPosts(json) {
        const container = document.getElementById('posts-container');
        const ticker = document.getElementById('ticker-text');
        if (!json.feed.entry) return;

        let tickerContent = "";
        json.feed.entry.forEach(entry => {
            const title = entry.title.$t;
            const link = entry.link.find(l => l.rel === 'alternate').href;
            const img = entry.media$thumbnail ? entry.media$thumbnail.url.replace('/s72-c/', '/s600/') : 'https://via.placeholder.com/600x400';
            
            tickerContent += ` â€¢ ${title} `;
            
            container.innerHTML += `
                <article class="post-card">
                    <img src="${img}" alt="${title}">
                    <div class="post-content">
                        <h3><a href="${link}">${title}</a></h3>
                        <p>${entry.summary.$t.substring(0, 130)}...</p>
                    </div>
                </article>
            `;
        });
        if(startIndex === 1) ticker.innerText = tickerContent + tickerContent;
    }

    function nextPage() {
        startIndex += maxResults;
        fetchPosts();
    }

    function fetchExtras() {
        const script = document.createElement('script');
        script.src = `${blogUrl}/feeds/posts/summary?alt=json-in-script&max-results=6&callback=displayExtras`;
        document.body.appendChild(script);
    }

    function displayExtras(json) {
        const slider = document.getElementById('main-slider');
        const sidebar = document.getElementById('sidebar-labels');
        
        json.feed.entry.forEach(entry => {
            const img = entry.media$thumbnail ? entry.media$thumbnail.url.replace('/s72-c/', '/s800/') : 'https://via.placeholder.com/600x800';
            const link = entry.link.find(l => l.rel === 'alternate').href;
            slider.innerHTML += `
                <div class="slider-item">
                    <img src="${img}">
                    <div class="slider-overlay">
                        <a href="${link}" style="text-decoration:none"><h4>${entry.title.$t}</h4></a>
                    </div>
                </div>
            `;
        });

        json.feed.category.forEach(cat => {
            sidebar.innerHTML += `<a href="${blogUrl}/search/label/${encodeURIComponent(cat.term)}" class="tag">${cat.term}</a>`;
        });
    }

    document.getElementById('theme-toggle').addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
    });

    window.onload = () => { fetchPosts(); fetchExtras(); };
</script>

</body>
</html>
